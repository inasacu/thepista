# Logfile created on 2013-09-15 15:35:03 +0930 by logger.rb/31641
D, [2013-09-15T15:49:04.947692 #6455] DEBUG -- :   [1m[36m (63.0ms)[0m  [1mCREATE TABLE `companies` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
D, [2013-09-15T15:49:05.003774 #6455] DEBUG -- :   [1m[35m (53.6ms)[0m  CREATE TABLE `locations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `company_id` int(11) DEFAULT 0 NOT NULL, `street` varchar(60), `city` varchar(60), `state` varchar(2), `postal_code` varchar(16), `lat` decimal(15,10), `lng` decimal(15,10)) ENGINE=InnoDB
D, [2013-09-15T15:49:05.055208 #6455] DEBUG -- :   [1m[36m (49.0ms)[0m  [1mCREATE TABLE `custom_locations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `company_id` int(11) DEFAULT 0 NOT NULL, `street` varchar(60), `city` varchar(60), `state` varchar(2), `postal_code` varchar(16), `latitude` decimal(15,10), `longitude` decimal(15,10)) ENGINE=InnoDB[0m
D, [2013-09-15T15:49:05.111928 #6455] DEBUG -- :   [1m[35m (54.3ms)[0m  CREATE TABLE `stores` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `address` varchar(255), `lat` decimal(15,10), `lng` decimal(15,10)) ENGINE=InnoDB
D, [2013-09-15T15:49:05.170998 #6455] DEBUG -- :   [1m[36m (56.2ms)[0m  [1mCREATE TABLE `mock_organizations` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255)) ENGINE=InnoDB[0m
D, [2013-09-15T15:49:05.234509 #6455] DEBUG -- :   [1m[35m (59.6ms)[0m  CREATE TABLE `mock_addresses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `addressable_id` int(11) NOT NULL, `addressable_type` varchar(255) NOT NULL, `street` varchar(60), `city` varchar(60), `state` varchar(2), `postal_code` varchar(16), `lat` decimal(15,10), `lng` decimal(15,10)) ENGINE=InnoDB
D, [2013-09-15T15:49:05.283583 #6455] DEBUG -- :   [1m[36m (45.7ms)[0m  [1mCREATE TABLE `mock_houses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `address` varchar(255), `lat` decimal(15,10), `lng` decimal(15,10)) ENGINE=InnoDB[0m
D, [2013-09-15T15:49:05.333820 #6455] DEBUG -- :   [1m[35m (46.7ms)[0m  CREATE TABLE `mock_families` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `mock_house_id` int(11)) ENGINE=InnoDB
D, [2013-09-15T15:49:05.390947 #6455] DEBUG -- :   [1m[36m (53.7ms)[0m  [1mCREATE TABLE `mock_people` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `mock_family_id` int(11)) ENGINE=InnoDB[0m
D, [2013-09-15T15:49:05.455528 #6455] DEBUG -- :   [1m[35m (58.7ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
D, [2013-09-15T15:49:05.547199 #6455] DEBUG -- :   [1m[36m (89.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
D, [2013-09-15T15:49:05.569740 #6455] DEBUG -- :   [1m[35m (21.8ms)[0m  SELECT version FROM `schema_migrations`
D, [2013-09-15T15:49:05.585555 #6455] DEBUG -- :   [1m[36m (15.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('0')[0m
D, [2013-09-15T15:49:06.102088 #6455] DEBUG -- :   [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
D, [2013-09-15T15:49:06.102567 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
D, [2013-09-15T15:49:06.110631 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.115905 #6455] DEBUG -- :   [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `mock_families`[0m
D, [2013-09-15T15:49:06.116585 #6455] DEBUG -- :   [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `mock_families` (`id`, `mock_house_id`) VALUES (964944192, 185830233)
D, [2013-09-15T15:49:06.120911 #6455] DEBUG -- :   [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `companies`[0m
D, [2013-09-15T15:49:06.121392 #6455] DEBUG -- :   [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `companies` (`id`, `name`) VALUES (1, 'Starbucks')
D, [2013-09-15T15:49:06.122050 #6455] DEBUG -- :   [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `companies` (`id`, `name`) VALUES (2, 'Barnes & Noble')[0m
D, [2013-09-15T15:49:06.123671 #6455] DEBUG -- :   [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `stores`
D, [2013-09-15T15:49:06.132502 #6455] DEBUG -- :   [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `mock_addresses`[0m
D, [2013-09-15T15:49:06.134468 #6455] DEBUG -- :   [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `mock_addresses` (`street`, `city`, `state`, `postal_code`, `lat`, `lng`, `id`, `addressable_type`, `addressable_id`) VALUES ('106 N Denton Tap Rd', 'Coppell', 'TX', 75019, 32.969527, -96.990159, 214970392, 'MockOrganization', 378604642)
D, [2013-09-15T15:49:06.136955 #6455] DEBUG -- :   [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `mock_addresses` (`street`, `city`, `state`, `postal_code`, `lat`, `lng`, `id`, `addressable_type`, `addressable_id`) VALUES ('5904 N Macarthur Blvd', 'Irving', 'TX', 75039, 32.895155, -96.958444, 206296981, 'MockOrganization', 1064917858)[0m
D, [2013-09-15T15:49:06.145582 #6455] DEBUG -- :   [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `mock_people`
D, [2013-09-15T15:49:06.147021 #6455] DEBUG -- :   [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `mock_people` (`id`, `mock_family_id`) VALUES (254095803, 964944192)[0m
D, [2013-09-15T15:49:06.148116 #6455] DEBUG -- :   [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `mock_people` (`id`, `mock_family_id`) VALUES (450002714, 964944192)
D, [2013-09-15T15:49:06.157353 #6455] DEBUG -- :   [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `custom_locations`[0m
D, [2013-09-15T15:49:06.158702 #6455] DEBUG -- :   [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `custom_locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `latitude`, `longitude`) VALUES (1, 1, '7979 N MacArthur Blvd', 'Irving', 'TX', 75063, 32.918593, -96.958444)
D, [2013-09-15T15:49:06.160041 #6455] DEBUG -- :   [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `custom_locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `latitude`, `longitude`) VALUES (2, 1, '7750 N Macarthur Blvd', 'Irving', 'TX', 75063, 32.914144, -96.958444)[0m
D, [2013-09-15T15:49:06.161357 #6455] DEBUG -- :   [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `custom_locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `latitude`, `longitude`) VALUES (3, 1, '5904 N Macarthur Blvd', 'Irving', 'TX', 75039, 32.895155, -96.958444)
D, [2013-09-15T15:49:06.162693 #6455] DEBUG -- :   [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `custom_locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `latitude`, `longitude`) VALUES (4, 1, '817 S Macarthur Blvd', 'Coppell', 'TX', 75019, 32.951613, -96.958444)[0m
D, [2013-09-15T15:49:06.164021 #6455] DEBUG -- :   [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `custom_locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `latitude`, `longitude`) VALUES (5, 1, '106 N Denton Tap Rd', 'Coppell', 'TX', 75019, 32.969527, -96.990159)
D, [2013-09-15T15:49:06.165267 #6455] DEBUG -- :   [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `custom_locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `latitude`, `longitude`) VALUES (6, 2, '5904 N Macarthur Blvd', 'Irving', 'TX', 75039, 32.895155, -96.958444)[0m
D, [2013-09-15T15:49:06.172846 #6455] DEBUG -- :   [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `mock_houses`
D, [2013-09-15T15:49:06.174022 #6455] DEBUG -- :   [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `mock_houses` (`address`, `lat`, `lng`, `id`) VALUES ('106 N Denton Tap Rd', 32.969527, -96.990159, 966034833)[0m
D, [2013-09-15T15:49:06.175341 #6455] DEBUG -- :   [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `mock_houses` (`address`, `lat`, `lng`, `id`) VALUES ('5904 N Macarthur Blvd', 32.895155, -96.958444, 185830233)
D, [2013-09-15T15:49:06.183429 #6455] DEBUG -- :   [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `locations`[0m
D, [2013-09-15T15:49:06.184648 #6455] DEBUG -- :   [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `lat`, `lng`) VALUES (1, 1, '7979 N MacArthur Blvd', 'Irving', 'TX', 75063, 32.918593, -96.958444)
D, [2013-09-15T15:49:06.185844 #6455] DEBUG -- :   [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `lat`, `lng`) VALUES (2, 1, '7750 N Macarthur Blvd', 'Irving', 'TX', 75063, 32.914144, -96.958444)[0m
D, [2013-09-15T15:49:06.187052 #6455] DEBUG -- :   [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `lat`, `lng`) VALUES (3, 1, '5904 N Macarthur Blvd', 'Irving', 'TX', 75039, 32.895155, -96.958444)
D, [2013-09-15T15:49:06.188061 #6455] DEBUG -- :   [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `lat`, `lng`) VALUES (4, 1, '817 S Macarthur Blvd', 'Coppell', 'TX', 75019, 32.951613, -96.958444)[0m
D, [2013-09-15T15:49:06.189150 #6455] DEBUG -- :   [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `lat`, `lng`) VALUES (5, 1, '106 N Denton Tap Rd', 'Coppell', 'TX', 75019, 32.969527, -96.990159)
D, [2013-09-15T15:49:06.190138 #6455] DEBUG -- :   [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `locations` (`id`, `company_id`, `street`, `city`, `state`, `postal_code`, `lat`, `lng`) VALUES (6, 2, '5904 N Macarthur Blvd', 'Irving', 'TX', 75039, 32.895155, -96.958444)[0m
D, [2013-09-15T15:49:06.196736 #6455] DEBUG -- :   [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `mock_organizations`
D, [2013-09-15T15:49:06.197712 #6455] DEBUG -- :   [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `mock_organizations` (`name`, `id`) VALUES ('Starbucks', 378604642)[0m
D, [2013-09-15T15:49:06.198719 #6455] DEBUG -- :   [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `mock_organizations` (`name`, `id`) VALUES ('Barnes & Noble', 1064917858)
D, [2013-09-15T15:49:06.209869 #6455] DEBUG -- :   [1m[36m (10.6ms)[0m  [1mCOMMIT[0m
D, [2013-09-15T15:49:06.211381 #6455] DEBUG -- :   [1m[35m (0.7ms)[0m  SET FOREIGN_KEY_CHECKS = 1
D, [2013-09-15T15:49:06.212529 #6455] DEBUG -- :   [1m[36mSQL (0.4ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.217730 #6455] DEBUG -- :   [1m[35mCompany Load (1.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.232005 #6455] DEBUG -- :   [1m[36mLocation Load (1.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.246143 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.1ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.258478 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.259488 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.260710 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.8ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.265437 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.9ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.302724 #6455] DEBUG -- :   [1m[36mLocation Load (1.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')[0m
D, [2013-09-15T15:49:06.305433 #6455] DEBUG -- :   [1m[35m (2.0ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')
D, [2013-09-15T15:49:06.307241 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.309059 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.310153 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.311292 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.312520 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.313658 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.314763 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.315869 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.316997 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.332568 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
D, [2013-09-15T15:49:06.340270 #6455] DEBUG -- :   [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `stores` (`address`, `lat`, `lng`) VALUES (?, ?, ?)[0m  [["address", "Irving, TX"], ["lat", #<BigDecimal:4983290,'0.32918593E2',18(45)>], ["lng", #<BigDecimal:4983100,'-0.96958444E2',18(45)>]]
D, [2013-09-15T15:49:06.341019 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
D, [2013-09-15T15:49:06.346674 #6455] DEBUG -- :   [1m[36m (4.9ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.348118 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.350685 #6455] DEBUG -- :   [1m[36mCompany Load (0.8ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.352719 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.354727 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.356638 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.358556 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.7ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.360605 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.362760 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.7ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.365777 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
D, [2013-09-15T15:49:06.367224 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
D, [2013-09-15T15:49:06.368546 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.369064 #6455] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.370115 #6455] DEBUG -- :   [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.370959 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.371775 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.4ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.372544 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.373263 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.4ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.389593 #6455] DEBUG -- :   [1m[36mMockOrganization Load (15.8ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.391547 #6455] DEBUG -- :   [1m[35mMockAddress Load (1.2ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.393620 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.394500 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.395542 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.396794 #6455] DEBUG -- :   [1m[35mLocation Load (0.7ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.398712 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.7ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.400562 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.401475 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.402390 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.404038 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.6ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.406206 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.407477 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.409369 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.411563 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.413626 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.415487 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.417376 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.419777 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.7ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.422028 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.8ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.428240 #6455] DEBUG -- :   [1m[36mLocation Load (1.9ms)[0m  [1mSELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc[0m
D, [2013-09-15T15:49:06.434878 #6455] DEBUG -- :   [1m[35m (0.5ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.436463 #6455] DEBUG -- :   [1m[36mSQL (0.4ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.438782 #6455] DEBUG -- :   [1m[35mCompany Load (0.9ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.440877 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.442918 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.470763 #6455] DEBUG -- :   [1m[36mLocation Load (26.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.472610 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.0ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.473554 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.5ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.474533 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.5ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.476084 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.476809 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.477866 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.478887 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.479771 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.480826 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.482779 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.7ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.484734 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.486854 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.6ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.491540 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.493224 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.495709 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.497851 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.499182 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.4ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.500094 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.500989 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.501665 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.3ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.502363 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.3ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.507059 #6455] DEBUG -- :   [1m[36mLocation Load (1.0ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))[0m
D, [2013-09-15T15:49:06.509050 #6455] DEBUG -- :   [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))
D, [2013-09-15T15:49:06.509841 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.510745 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:06.511564 #6455] DEBUG -- :   [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.532451 #6455] DEBUG -- :   [1m[35mLocation Load (20.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.533896 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.534756 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.535624 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.536526 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.537486 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.540098 #6455] DEBUG -- :   [1m[35mLocation Load (1.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))
D, [2013-09-15T15:49:06.542179 #6455] DEBUG -- :   [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))[0m
D, [2013-09-15T15:49:06.542723 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.543597 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.544551 #6455] DEBUG -- :   [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.545463 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.546368 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.547796 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.549235 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.550743 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.6ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.552722 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.7ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.556145 #6455] DEBUG -- :   [1m[36mCustomLocation Load (1.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 > 3.95))[0m
D, [2013-09-15T15:49:06.557837 #6455] DEBUG -- :   [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 > 3.95))
D, [2013-09-15T15:49:06.558595 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.559707 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.561206 #6455] DEBUG -- :   [1m[36mCompany Load (0.6ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.562787 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.564372 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.565915 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.567404 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.568865 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.591099 #6455] DEBUG -- :   [1m[36mMockAddress Load (21.2ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.593291 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.0ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 > 3.95))
D, [2013-09-15T15:49:06.594390 #6455] DEBUG -- :   [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 > 3.95))[0m
D, [2013-09-15T15:49:06.594950 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.595694 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.596583 #6455] DEBUG -- :   [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.597422 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.598247 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.599051 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.599861 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.600667 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.4ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.601504 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.5ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.603630 #6455] DEBUG -- :   [1m[36mLocation Load (0.9ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))[0m
D, [2013-09-15T15:49:06.604821 #6455] DEBUG -- :   [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))
D, [2013-09-15T15:49:06.605277 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.605971 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.606902 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.607738 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.608559 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.609297 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.610065 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.610767 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.3ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.611624 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.614309 #6455] DEBUG -- :   [1m[35mLocation Load (1.2ms)[0m  SELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc
D, [2013-09-15T15:49:06.615257 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.615955 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.617346 #6455] DEBUG -- :   [1m[36mCompany Load (0.6ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.619529 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.621503 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.623296 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.643797 #6455] DEBUG -- :   [1m[36mCustomLocation Load (19.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.645071 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.645882 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.3ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.648013 #6455] DEBUG -- :   [1m[35mLocation Load (1.1ms)[0m  SELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc
D, [2013-09-15T15:49:06.648776 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.649477 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:06.651505 #6455] DEBUG -- :   [1m[36mCompany Load (0.7ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.653503 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.655368 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.657270 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.659158 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.661068 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.662982 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.7ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.666468 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.3ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` ORDER BY 
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 asc
D, [2013-09-15T15:49:06.668716 #6455] DEBUG -- :   [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.670315 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.672664 #6455] DEBUG -- :   [1m[36mCompany Load (0.7ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.675264 #6455] DEBUG -- :   [1m[35mLocation Load (0.9ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.677572 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.7ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.679816 #6455] DEBUG -- :   [1m[35mLocation Load (0.7ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.681874 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.7ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.684251 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.7ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.686359 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.7ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.691223 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` ORDER BY 
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 asc
D, [2013-09-15T15:49:06.693280 #6455] DEBUG -- :   [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.694719 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.696715 #6455] DEBUG -- :   [1m[36mCompany Load (0.7ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.698636 #6455] DEBUG -- :   [1m[35mLocation Load (0.7ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.724352 #6455] DEBUG -- :   [1m[36mCustomLocation Load (24.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.726400 #6455] DEBUG -- :   [1m[35mLocation Load (1.3ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.728421 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.730307 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.732349 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.6ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.737883 #6455] DEBUG -- :   [1m[35mLocation Load (1.2ms)[0m  SELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc LIMIT 1
D, [2013-09-15T15:49:06.738850 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.739448 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.740120 #6455] DEBUG -- :   [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.740766 #6455] DEBUG -- :   [1m[35mLocation Load (0.3ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.741428 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.3ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.741991 #6455] DEBUG -- :   [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.742643 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.3ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.743350 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.3ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.744122 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.4ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.745845 #6455] DEBUG -- :   [1m[35mLocation Load (0.7ms)[0m  SELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc LIMIT 1
D, [2013-09-15T15:49:06.746334 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.747132 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:06.747955 #6455] DEBUG -- :   [1m[36mCompany Load (0.4ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.748799 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.749661 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.750646 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.751537 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.752411 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.753258 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.4ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.754682 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.8ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` ORDER BY 
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 asc LIMIT 1
D, [2013-09-15T15:49:06.755155 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.755661 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:06.771360 #6455] DEBUG -- :   [1m[36mCompany Load (15.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.772814 #6455] DEBUG -- :   [1m[35mLocation Load (0.9ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.773683 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.774474 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.775281 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.776065 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.4ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.776852 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.4ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.778638 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.8ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` ORDER BY 
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 asc LIMIT 1
D, [2013-09-15T15:49:06.779194 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.779910 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.780778 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.781585 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.782395 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.783187 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.783927 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.784580 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.3ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.785306 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.4ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.787942 #6455] DEBUG -- :   [1m[35mLocation Load (1.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))
D, [2013-09-15T15:49:06.789705 #6455] DEBUG -- :   [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
D, [2013-09-15T15:49:06.790161 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.790891 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.791746 #6455] DEBUG -- :   [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.792554 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.793290 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.4ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.794055 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.794898 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.810646 #6455] DEBUG -- :   [1m[36mMockOrganization Load (15.3ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.812074 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.9ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.814582 #6455] DEBUG -- :   [1m[36mLocation Load (1.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 < 10))[0m
D, [2013-09-15T15:49:06.816230 #6455] DEBUG -- :   [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 < 10))
D, [2013-09-15T15:49:06.816688 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.817367 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.818279 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.819180 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.820044 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.820844 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.821641 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.822449 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.4ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.823281 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.825814 #6455] DEBUG -- :   [1m[35mLocation Load (1.3ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) AND (city = 'Coppell')
D, [2013-09-15T15:49:06.828207 #6455] DEBUG -- :   [1m[36m (1.9ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10)) AND (city = 'Coppell')[0m
D, [2013-09-15T15:49:06.828786 #6455] DEBUG -- :   [1m[35m (0.1ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.830332 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.831598 #6455] DEBUG -- :   [1m[35mCompany Load (0.6ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.832534 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.833371 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.834177 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.835145 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.836301 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.5ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.837790 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.6ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.847668 #6455] DEBUG -- :   [1m[36mLocation Load (1.0ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`city` = 'Coppell' AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))[0m
D, [2013-09-15T15:49:06.849126 #6455] DEBUG -- :   [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `locations` WHERE `locations`.`city` = 'Coppell' AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 >= 0 AND 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 10))
D, [2013-09-15T15:49:06.849640 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.850355 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.851208 #6455] DEBUG -- :   [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.851921 #6455] DEBUG -- :   [1m[35mLocation Load (0.3ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.852635 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.3ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.869932 #6455] DEBUG -- :   [1m[35mLocation Load (16.9ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.871392 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.8ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.872142 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.3ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.872873 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.3ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.874574 #6455] DEBUG -- :   [1m[35mLocation Load (0.7ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))
D, [2013-09-15T15:49:06.875666 #6455] DEBUG -- :   [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m
D, [2013-09-15T15:49:06.876097 #6455] DEBUG -- :   [1m[35m (0.2ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.876820 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.877975 #6455] DEBUG -- :   [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.878907 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.879822 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.880737 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.881609 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.882560 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.5ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.883685 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.5ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.886707 #6455] DEBUG -- :   [1m[36mLocation Load (1.1ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')[0m
D, [2013-09-15T15:49:06.888325 #6455] DEBUG -- :   [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')
D, [2013-09-15T15:49:06.888840 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.889496 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.890659 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.891722 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.892864 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.893972 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.895206 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.896476 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.897782 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.6ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.900923 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.2ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 5)) AND (city = 'Coppell')
D, [2013-09-15T15:49:06.903177 #6455] DEBUG -- :   [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 5)) AND (city = 'Coppell')[0m
D, [2013-09-15T15:49:06.904215 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.905633 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.907733 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.937133 #6455] DEBUG -- :   [1m[36mLocation Load (28.0ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.938670 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.0ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.939819 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.941714 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.943680 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.6ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:06.945654 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.6ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:06.949826 #6455] DEBUG -- :   [1m[36mCustomLocation Load (1.0ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))[0m
D, [2013-09-15T15:49:06.952387 #6455] DEBUG -- :   [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))
D, [2013-09-15T15:49:06.953208 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:06.954354 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:06.956281 #6455] DEBUG -- :   [1m[36mCompany Load (0.6ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.958196 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.960188 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.962049 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.963764 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.965464 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:06.966402 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:06.970607 #6455] DEBUG -- :   [1m[35mCustomLocation Load (1.4ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))
D, [2013-09-15T15:49:06.973216 #6455] DEBUG -- :   [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))[0m
D, [2013-09-15T15:49:06.974205 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  ROLLBACK
D, [2013-09-15T15:49:06.975755 #6455] DEBUG -- :   [1m[36mSQL (0.4ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:06.977623 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.979577 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:06.981661 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.8ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:06.984068 #6455] DEBUG -- :   [1m[36mLocation Load (0.8ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:06.985983 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:06.987925 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.6ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.013238 #6455] DEBUG -- :   [1m[35mMockAddress Load (24.1ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.015880 #6455] DEBUG -- :   [1m[36mLocation Load (1.2ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m
D, [2013-09-15T15:49:07.017165 #6455] DEBUG -- :   [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))
D, [2013-09-15T15:49:07.017623 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.018623 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:07.020614 #6455] DEBUG -- :   [1m[36mCompany Load (0.6ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.022654 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.024624 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.026482 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.028421 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.030310 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.032247 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.7ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.036651 #6455] DEBUG -- :   [1m[35mLocation Load (1.3ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 SQRT(POW(69.1*(32.918593-locations.lat),2)+
 POW(48.20039936816744*(-96.958444-locations.lng),2))
 <= 6.387))
D, [2013-09-15T15:49:07.039495 #6455] DEBUG -- :   [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 SQRT(POW(69.1*(32.918593-locations.lat),2)+
 POW(48.20039936816744*(-96.958444-locations.lng),2))
 <= 6.387))[0m
D, [2013-09-15T15:49:07.040556 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.042073 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.044090 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.046154 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.048226 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.050322 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.052707 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.8ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.054815 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.8ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.056857 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.7ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.062560 #6455] DEBUG -- :   [1m[36mLocation Load (1.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*6376.77271)
 <= 6.387))[0m
D, [2013-09-15T15:49:07.065503 #6455] DEBUG -- :   [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*6376.77271)
 <= 6.387))
D, [2013-09-15T15:49:07.066440 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.067722 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:07.069578 #6455] DEBUG -- :   [1m[36mCompany Load (0.6ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.071482 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.073378 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.7ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.075420 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.099239 #6455] DEBUG -- :   [1m[36mCustomLocation Load (22.7ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.100772 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.9ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.101648 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.103983 #6455] DEBUG -- :   [1m[35mLocation Load (1.1ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')
D, [2013-09-15T15:49:07.105306 #6455] DEBUG -- :   [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')[0m
D, [2013-09-15T15:49:07.105815 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.106524 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.107433 #6455] DEBUG -- :   [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.108314 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.109193 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.110500 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.112337 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.113228 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.5ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.114156 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.5ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.115346 #6455] DEBUG -- :   [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `mock_people`[0m
D, [2013-09-15T15:49:07.116197 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `mock_people`
D, [2013-09-15T15:49:07.116731 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.117460 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:07.118572 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.119618 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.120716 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.121720 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.122753 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.123717 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.4ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.124637 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.4ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.127645 #6455] DEBUG -- :   [1m[35mLocation Load (1.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))
D, [2013-09-15T15:49:07.129538 #6455] DEBUG -- :   [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m
D, [2013-09-15T15:49:07.130146 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.131005 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.132169 #6455] DEBUG -- :   [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.133328 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.155731 #6455] DEBUG -- :   [1m[35mCustomLocation Load (21.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.157227 #6455] DEBUG -- :   [1m[36mLocation Load (0.9ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.158042 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.158872 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.5ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.159783 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.5ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.160934 #6455] DEBUG -- :   [1m[36mLocation Load (0.8ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495)[0m
D, [2013-09-15T15:49:07.161968 #6455] DEBUG -- :   [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `locations` WHERE (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495)
D, [2013-09-15T15:49:07.162522 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.163469 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:07.165770 #6455] DEBUG -- :   [1m[36mCompany Load (0.7ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.167721 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.170181 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.172201 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.173945 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.174945 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.6ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.175885 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.179340 #6455] DEBUG -- :   [1m[35mLocation Load (1.3ms)[0m  SELECT `locations`.* FROM `locations` WHERE (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495) ORDER BY 
 (ACOS(least(1,COS(0.5749084012807412)*COS(-1.6921170952541658)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5749084012807412)*SIN(-1.6921170952541658)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5749084012807412)*SIN(RADIANS(locations.lat))))*3963.19)
 asc
D, [2013-09-15T15:49:07.180499 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 4]]
D, [2013-09-15T15:49:07.181166 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.181990 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.183108 #6455] DEBUG -- :   [1m[35mCompany Load (0.6ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.184795 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.186536 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.188227 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.189806 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.191515 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.6ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.215235 #6455] DEBUG -- :   [1m[35mMockAddress Load (22.7ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.217240 #6455] DEBUG -- :   [1m[36mLocation Load (1.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495) AND (id != 1)[0m
D, [2013-09-15T15:49:07.217760 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.218322 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.220476 #6455] DEBUG -- :   [1m[35mCompany Load (0.6ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.222365 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.224281 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.226017 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.227844 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.229868 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.6ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.231930 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.6ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.233211 #6455] DEBUG -- :   [1m[36mLocation Load (0.8ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = 1 AND (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495)[0m
D, [2013-09-15T15:49:07.233773 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.234387 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.236481 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.238626 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.240743 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.8ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.242843 #6455] DEBUG -- :   [1m[36mLocation Load (0.8ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.244774 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.246836 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.7ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.249007 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.7ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.251585 #6455] DEBUG -- :   [1m[36mLocation Load (1.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495) AND (id !=1)[0m
D, [2013-09-15T15:49:07.252832 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.254352 #6455] DEBUG -- :   [1m[36mSQL (0.4ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.256393 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.258483 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.260482 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.262639 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.288409 #6455] DEBUG -- :   [1m[35mCustomLocation Load (24.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.289864 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.8ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.290928 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.6ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.292084 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495)[0m
D, [2013-09-15T15:49:07.293201 #6455] DEBUG -- :   [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `locations` WHERE (locations.lat>32.91663 AND locations.lat<32.96302 AND locations.lng>-96.982841 AND locations.lng<-96.919495)
D, [2013-09-15T15:49:07.293679 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.294385 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:07.295353 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.296257 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.297033 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.297844 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.298651 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.299447 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.4ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.300276 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.302195 #6455] DEBUG -- :   [1m[35mLocation Load (0.9ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))
D, [2013-09-15T15:49:07.303504 #6455] DEBUG -- :   [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m
D, [2013-09-15T15:49:07.304019 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.304784 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.306830 #6455] DEBUG -- :   [1m[35mCompany Load (0.7ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.308875 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.310827 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.312675 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.314603 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.316381 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.5ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.317971 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.4ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.320621 #6455] DEBUG -- :   [1m[36mCustomLocation Load (1.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))[0m
D, [2013-09-15T15:49:07.323586 #6455] DEBUG -- :   [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))
D, [2013-09-15T15:49:07.324638 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.325952 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:07.328271 #6455] DEBUG -- :   [1m[36mCompany Load (0.9ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.330355 #6455] DEBUG -- :   [1m[35mLocation Load (0.7ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.352307 #6455] DEBUG -- :   [1m[36mCustomLocation Load (20.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.353751 #6455] DEBUG -- :   [1m[35mLocation Load (0.9ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.354795 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.6ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.355692 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.356617 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.358516 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.9ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))
D, [2013-09-15T15:49:07.359745 #6455] DEBUG -- :   [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `custom_locations` WHERE ((
 SQRT(POW(111.18189999999998*(32.918593-custom_locations.latitude),2)+
 POW(77.5544425833814*(-96.958444-custom_locations.longitude),2))
 <= 3.97))[0m
D, [2013-09-15T15:49:07.360194 #6455] DEBUG -- :   [1m[35m (0.2ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.360794 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.361614 #6455] DEBUG -- :   [1m[35mCompany Load (0.4ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.362510 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.363337 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.364124 #6455] DEBUG -- :   [1m[36mLocation Load (0.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.364910 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.4ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.365982 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.6ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.368081 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.6ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.369954 #6455] DEBUG -- :   [1m[36mLocation Load (0.7ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE (company_id = 1)[0m
D, [2013-09-15T15:49:07.382649 #6455] DEBUG -- :   [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` IN (1)
D, [2013-09-15T15:49:07.383392 #6455] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.383951 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:07.385045 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.386180 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.387364 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.388184 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.388974 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.389611 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.2ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.390338 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.3ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.392404 #6455] DEBUG -- :   [1m[35mLocation Load (0.6ms)[0m  SELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc
D, [2013-09-15T15:49:07.394417 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.395075 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:07.412199 #6455] DEBUG -- :   [1m[36mCompany Load (16.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.413771 #6455] DEBUG -- :   [1m[35mLocation Load (0.7ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.414867 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.415716 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.416443 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.3ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.417208 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.3ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.418055 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.4ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.422675 #6455] DEBUG -- :   [1m[35mLocation Load (1.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))
D, [2013-09-15T15:49:07.423690 #6455] DEBUG -- :   [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))[0m
D, [2013-09-15T15:49:07.424206 #6455] DEBUG -- :   [1m[35m (0.2ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.424840 #6455] DEBUG -- :   [1m[36mSQL (0.2ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.425697 #6455] DEBUG -- :   [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.426436 #6455] DEBUG -- :   [1m[36mLocation Load (0.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.427170 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.3ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.427851 #6455] DEBUG -- :   [1m[36mLocation Load (0.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.428429 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.2ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.429024 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.2ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.429646 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.2ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.431589 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc[0m
D, [2013-09-15T15:49:07.432338 #6455] DEBUG -- :   [1m[35m (0.1ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.432815 #6455] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.433621 #6455] DEBUG -- :   [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.434358 #6455] DEBUG -- :   [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.435102 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.3ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.435782 #6455] DEBUG -- :   [1m[36mLocation Load (0.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.436381 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.2ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.452132 #6455] DEBUG -- :   [1m[36mMockOrganization Load (15.3ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.453531 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.6ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.455568 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc LIMIT 1[0m
D, [2013-09-15T15:49:07.456196 #6455] DEBUG -- :   [1m[35m (0.2ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.456772 #6455] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.457508 #6455] DEBUG -- :   [1m[35mCompany Load (0.2ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.458149 #6455] DEBUG -- :   [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.458777 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.2ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.459335 #6455] DEBUG -- :   [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.459890 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.2ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.460481 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.2ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.461101 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.2ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.462941 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')[0m
D, [2013-09-15T15:49:07.463821 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')
D, [2013-09-15T15:49:07.464254 #6455] DEBUG -- :   [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.464801 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:07.465508 #6455] DEBUG -- :   [1m[36mCompany Load (0.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.466134 #6455] DEBUG -- :   [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.466767 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.467315 #6455] DEBUG -- :   [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.467831 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.468409 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.2ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.468983 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.2ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.471100 #6455] DEBUG -- :   [1m[35mLocation Load (0.8ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))
D, [2013-09-15T15:49:07.472384 #6455] DEBUG -- :   [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m
D, [2013-09-15T15:49:07.472802 #6455] DEBUG -- :   [1m[35m (0.1ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.473358 #6455] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.474692 #6455] DEBUG -- :   [1m[35mCompany Load (0.6ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.475911 #6455] DEBUG -- :   [1m[36mLocation Load (0.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.478015 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.6ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.497784 #6455] DEBUG -- :   [1m[36mLocation Load (18.4ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.499290 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.500026 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.3ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.500626 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.2ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.502616 #6455] DEBUG -- :   [1m[36mLocation Load (0.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')[0m
D, [2013-09-15T15:49:07.503586 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')
D, [2013-09-15T15:49:07.504156 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.505049 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:07.506084 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.507246 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.508833 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.510140 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.511407 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.512182 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.3ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.512914 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.3ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.515330 #6455] DEBUG -- :   [1m[35mLocation Load (0.8ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))
D, [2013-09-15T15:49:07.518224 #6455] DEBUG -- :   [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m
D, [2013-09-15T15:49:07.519555 #6455] DEBUG -- :   [1m[35m (0.4ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.521102 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.523418 #6455] DEBUG -- :   [1m[35mCompany Load (0.6ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.525456 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.527367 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.529152 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.530635 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.3ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.531482 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.4ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.532952 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.3ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.535449 #6455] DEBUG -- :   [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.536146 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:07.537189 #6455] DEBUG -- :   [1m[36mCompany Load (0.5ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.552857 #6455] DEBUG -- :   [1m[35mLocation Load (15.1ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.554465 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.8ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.555344 #6455] DEBUG -- :   [1m[35mLocation Load (0.4ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.556101 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.556910 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.4ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.557786 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.4ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.559985 #6455] DEBUG -- :   [1m[35mLocation Load (0.9ms)[0m  SELECT `locations`.* FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*6376.77271)
 <= 3.9))
D, [2013-09-15T15:49:07.561220 #6455] DEBUG -- :   [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*6376.77271)
 <= 3.9))[0m
D, [2013-09-15T15:49:07.561677 #6455] DEBUG -- :   [1m[35m (0.2ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.562248 #6455] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.563438 #6455] DEBUG -- :   [1m[35mCompany Load (0.6ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.564674 #6455] DEBUG -- :   [1m[36mLocation Load (0.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.566608 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.7ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.567287 #6455] DEBUG -- :   [1m[36mLocation Load (0.3ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.567949 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.3ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.568646 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.3ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.569250 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.2ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.579889 #6455] DEBUG -- :   [1m[36mLocation Load (0.9ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`company_id` = ? ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc[0m  [["company_id", 1]]
D, [2013-09-15T15:49:07.581613 #6455] DEBUG -- :   [1m[35m (0.2ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.582059 #6455] DEBUG -- :   [1m[36mSQL (0.1ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.582826 #6455] DEBUG -- :   [1m[35mCompany Load (0.3ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.583419 #6455] DEBUG -- :   [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.584005 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.2ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.584556 #6455] DEBUG -- :   [1m[36mLocation Load (0.2ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.585080 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.2ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.601881 #6455] DEBUG -- :   [1m[36mMockOrganization Load (16.4ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.604200 #6455] DEBUG -- :   [1m[35mMockAddress Load (1.4ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.612743 #6455] DEBUG -- :   [1m[36mLocation Load (1.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))[0m  [["company_id", 1]]
D, [2013-09-15T15:49:07.615684 #6455] DEBUG -- :   [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 > 3.95))  [["company_id", 1]]
D, [2013-09-15T15:49:07.616806 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.618392 #6455] DEBUG -- :   [1m[35mSQL (0.3ms)[0m  BEGIN
D, [2013-09-15T15:49:07.620531 #6455] DEBUG -- :   [1m[36mCompany Load (0.6ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.622440 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.623542 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.4ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.625026 #6455] DEBUG -- :   [1m[35mLocation Load (0.3ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.625997 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.627147 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.629156 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.636993 #6455] DEBUG -- :   [1m[35mLocation Load (1.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`company_id` = ? ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc  [["company_id", 1]]
D, [2013-09-15T15:49:07.638679 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.639189 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:07.639896 #6455] DEBUG -- :   [1m[36mCompany Load (0.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.640494 #6455] DEBUG -- :   [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.641098 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.641666 #6455] DEBUG -- :   [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.642211 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.642809 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.2ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.643423 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.2ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.662195 #6455] DEBUG -- :   [1m[35mLocation Load (16.8ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`company_id` = ? ORDER BY 
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 asc LIMIT 1  [["company_id", 1]]
D, [2013-09-15T15:49:07.662904 #6455] DEBUG -- :   [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.663381 #6455] DEBUG -- :   [1m[35mSQL (0.1ms)[0m  BEGIN
D, [2013-09-15T15:49:07.664188 #6455] DEBUG -- :   [1m[36mCompany Load (0.3ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.664792 #6455] DEBUG -- :   [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.665383 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.665981 #6455] DEBUG -- :   [1m[35mLocation Load (0.2ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.666535 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.2ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.667339 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.4ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.668200 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.671886 #6455] DEBUG -- :   [1m[35mLocation Load (1.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')  [["company_id", 1]]
D, [2013-09-15T15:49:07.673793 #6455] DEBUG -- :   [1m[36m (1.3ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 5)) AND (city = 'Coppell')[0m  [["company_id", 1]]
D, [2013-09-15T15:49:07.674363 #6455] DEBUG -- :   [1m[35m (0.3ms)[0m  ROLLBACK
D, [2013-09-15T15:49:07.675235 #6455] DEBUG -- :   [1m[36mSQL (0.3ms)[0m  [1mBEGIN[0m
D, [2013-09-15T15:49:07.676235 #6455] DEBUG -- :   [1m[35mCompany Load (0.5ms)[0m  SELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.677162 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.678109 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.679034 #6455] DEBUG -- :   [1m[36mLocation Load (0.5ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.679920 #6455] DEBUG -- :   [1m[35mCustomLocation Load (0.5ms)[0m  SELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.680830 #6455] DEBUG -- :   [1m[36mMockOrganization Load (0.5ms)[0m  [1mSELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1[0m  [["id", 1064917858]]
D, [2013-09-15T15:49:07.681806 #6455] DEBUG -- :   [1m[35mMockAddress Load (0.5ms)[0m  SELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1  [["id", 206296981]]
D, [2013-09-15T15:49:07.688381 #6455] DEBUG -- :   [1m[36mLocation Load (1.6ms)[0m  [1mSELECT `locations`.* FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m  [["company_id", 1]]
D, [2013-09-15T15:49:07.691526 #6455] DEBUG -- :   [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))  [["company_id", 1]]
D, [2013-09-15T15:49:07.692691 #6455] DEBUG -- :   [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
D, [2013-09-15T15:49:07.694064 #6455] DEBUG -- :   [1m[35mSQL (0.2ms)[0m  BEGIN
D, [2013-09-15T15:49:07.719656 #6455] DEBUG -- :   [1m[36mCompany Load (24.2ms)[0m  [1mSELECT `companies`.* FROM `companies` WHERE `companies`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.721126 #6455] DEBUG -- :   [1m[35mLocation Load (0.9ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 1]]
D, [2013-09-15T15:49:07.722085 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 1]]
D, [2013-09-15T15:49:07.723007 #6455] DEBUG -- :   [1m[35mLocation Load (0.5ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`id` = ? LIMIT 1  [["id", 5]]
D, [2013-09-15T15:49:07.723932 #6455] DEBUG -- :   [1m[36mCustomLocation Load (0.5ms)[0m  [1mSELECT `custom_locations`.* FROM `custom_locations` WHERE `custom_locations`.`id` = ? LIMIT 1[0m  [["id", 5]]
D, [2013-09-15T15:49:07.724840 #6455] DEBUG -- :   [1m[35mMockOrganization Load (0.5ms)[0m  SELECT `mock_organizations`.* FROM `mock_organizations` WHERE `mock_organizations`.`id` = ? LIMIT 1  [["id", 1064917858]]
D, [2013-09-15T15:49:07.725716 #6455] DEBUG -- :   [1m[36mMockAddress Load (0.5ms)[0m  [1mSELECT `mock_addresses`.* FROM `mock_addresses` WHERE `mock_addresses`.`id` = ? LIMIT 1[0m  [["id", 206296981]]
D, [2013-09-15T15:49:07.728072 #6455] DEBUG -- :   [1m[35mLocation Load (0.8ms)[0m  SELECT `locations`.* FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))  [["company_id", 1]]
D, [2013-09-15T15:49:07.729176 #6455] DEBUG -- :   [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `locations` WHERE `locations`.`company_id` = ? AND ((
 (ACOS(least(1,COS(0.5745378329739577)*COS(-1.692244085410541)*COS(RADIANS(locations.lat))*COS(RADIANS(locations.lng))+
 COS(0.5745378329739577)*SIN(-1.692244085410541)*COS(RADIANS(locations.lat))*SIN(RADIANS(locations.lng))+
 SIN(0.5745378329739577)*SIN(RADIANS(locations.lat))))*3963.19)
 <= 3.97))[0m  [["company_id", 1]]
D, [2013-09-15T15:49:07.729632 #6455] DEBUG -- :   [1m[35m (0.2ms)[0m  ROLLBACK
