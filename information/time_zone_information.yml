

http://stackoverflow.com/questions/4467781/how-do-i-alter-the-timezone-of-a-datetime-in-ruby


  
	<%#= @current_user_zone %> 
	<%#= @current_user_zone %>  
	<%#= Time.zone.now.time_zone.utc_offset %> 
	<%#= Time.zone_offset('CET') %>
	<%#= 3600 * +2 %>
	<%#= @time_locally %> 
	<%#= @time_in_zone %>
	<%#= @venue.starts_at.utc_offset %>
	<%#= @venue.installations.first.starts_at.utc_offset %> 
	<%#= nice_simple_time_zone_at(Time.zone.now) %>
	
	

# @current_user_zone = @time_in_zone
# starts_at = @current_user_zone.beginning_of_day
# ends_at = (@current_user_zone + 1.day).midnight
# @reservations = Reservation.weekly_reservations(@installation, starts_at, ends_at)
# @current_user_zone = Time.now

# before_filter   :get_offset,          :only =>[:index, :new]



# def get_offset
#   my_offset = 3600 * +2  # MADRID
#   
#   # find the zone with that offset
#   @zone_name = ActiveSupport::TimeZone::MAPPING.keys.find do |name|
#     ActiveSupport::TimeZone[name].utc_offset == my_offset
#   end
#   @zone = ActiveSupport::TimeZone[@zone_name]
#   
#   @time_locally = Time.now
#   @time_in_zone = @zone.at(@time_locally)
# 
#   # p time_locally.rfc822   # => "Fri, 28 May 2010 09:51:10 -0400"
#   # p time_in_zone.rfc822   # => "Fri, 28 May 2010 06:51:10 -0700"
# end



<%= @current_user_zone %> <br/>
<%= @current_user_zone %>  <br/>
<%= Time.zone.now.time_zone.utc_offset %> <br/>
<%= Time.zone_offset('CET') %><br/>
<%= 3600 * +2 %><br/>
<%= @time_locally %> <br/>
<%= @time_in_zone %><br/>
<%= @venue.starts_at.utc_offset %><br/>
<%= @venue.installations.first.starts_at.utc_offset %> <br/>
<%= nice_simple_time_zone_at(Time.zone.now) %><br/>
<%

dt = DateTime.now
dt = dt.change(:offset => "+0000")


t = DateTime.now
t.hour
t += t.offset
t = t.utc
%>
<%= t.hour %><br/>
<%= dt %>

<br/>
<%= Time.zone.now.utc %>