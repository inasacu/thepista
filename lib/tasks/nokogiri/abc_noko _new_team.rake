# # to run:    rake add_new_team_marker
# 
# require 'open-uri'
# require 'nokogiri'                                                                                                                                                                                                                                                                                                                                                                                                                                                             
# 
# desc "Fetch marker from latitude and longitude"
# task :add_new_team_marker => :environment do|t|
# 
#   include GeoKit::Geocoders
# 
# 
#   the_coordinates = [ 40.4166909, -3.7003454] , [ -3.342891, 40.512886] , [ -3.343131, 40.512852] , [ 40.481663, -3.3641362] , [ -3.344234, 40.515918] , [ 40.4823765, -3.3623976] , [ -3.342333, 40.514321] , [ 40.4740777, -3.4017804] , [ 40.5475437, -3.6420912] , [ 40.5161673, -3.5917553] , [ 40.5537689, -3.6500215] , [ 40.5012788, -3.6041065] , [ -3.594658, 40.523846] , [ 40.5475437, -3.6420912] , [ 40.3545751, -3.8173924] , [ 40.3413966, -3.8161018] , [ 40.3435883, -3.8161075] , [ 40.3500823, -3.8317319] , [ 40.0261929, -3.6194338] , [ 40.3124971, -3.4768207] , [ 40.3395897, -3.3803758] , [ 40.6404259, -4.0014895] , [ 40.6246435, -3.9994221] , [ 40.6404259, -4.0014895] , [ 40.6404259, -4.0014895] , [ 40.6449708, -3.7757317] , [ 40.283873, -3.8003288] , [ 40.3049763, -3.7326773] , [ 40.32214, -3.7216842] , [ 40.294445, -3.720833] , [ 40.3007246, -3.7339637] , [ -3.683747, 40.78607] , [ 40.3388407, -3.7628885] , [ 40.3944609, -3.6912432] , [ 40.37155, -3.6236698] , [ 40.4069722, -3.6704034] , [ 40.4376622, -3.6610269] , [ -3.650522, 40.426617] , [ 40.3854606, -3.6470698] , [ 40.4032409, -3.761013] , [ 40.4057908, -3.6508395] , [ 40.3876331, -3.6601853] , [ 40.4213438, -3.615121] , [ 40.4216126, -3.6512904] , [ 40.4445856, -3.6989381] , [ 40.4389878, -3.6610331] , [ 40.4793499, -3.6940623] , [ 40.4216125, -3.6512897] , [ 40.4944768, -3.7174768] , [ -3.700345, 40.416691] , [ 40.4466885, -3.7345101] , [ 40.3822138, -3.6245517] , [ 40.449443, -3.7097895] , [ 40.4163628, -3.6573532] , [ 40.3792321, -3.7600156] , [ 40.3818762, -3.6350521] , [ 25.4304804, -100.1522716] , [ 40.4300459, -3.6070175] , [ 40.4277428, -3.7286527] , [ 40.4025156, -3.6773857] , [ 40.4094428, -3.7628942] , [ 40.3902716, -3.6469522] , [ 40.4445856, -3.6989381] , [ 40.4103286, -3.6416964] , [ 40.4166909, -3.7003454] , [ 40.3820597, -3.7752837] , [ 40.3819882, -3.7453813] , [ 40.4213438, -3.615121] , [ 40.3497665, -3.7176794] , [ 40.4100755, -3.6072849] , [ 40.5032594, -3.76602] , [ 40.5001539, -3.7103885] , [ 40.4080889, -3.6012082] , [ 40.3949681, -3.7046008] , [ 40.4188826, -3.6151279] , [ 40.4020241, -3.6700377] , [ 40.4166909, -3.7003454] , [ 40.3613336, -3.6863216] , [ 40.4445856, -3.6989381] , [ 40.4166909, -3.7003454]
# 
#   the_coordinates.each do |x, y|
# 
# 
#     @location = GoogleGeocoder.reverse_geocode([x, y]) 
#     @near_markers = Marker.get_markers_within_meters(x, y)
# 
#     puts "+++++ GEOCODER INFORMATION +++++"
# 
#     # puts  "#{name}"
#     # puts  "LAT/LNG:  #{latitude}, #{longitude}"
#     puts  "#{@location.street_address}"
#     puts  "#{@location.city}"
#     puts  "#{@location.state}"
#     puts  "#{@location.zip}"
#     # puts  "#{phone}"
#     # puts  "#{description}"
# 
#     # puts "**** create marker *************"
# 
#     # Marker.create(:name => name, :latitude => latitude, :longitude => longitude, :lat => latitude, :lng => longitude, 
#     # :phone => phone, :address => @location.street_address, :city => @location.city, :region => @location.state, :zip => @location.zip, :description => description)
# 
#     # puts  "*******************************"
# 
#   end
#   
# end
# 
# 
# 
# 
# 
# 
